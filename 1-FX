Below is a complete, self‑contained code snippet for a new lineage tab (named “LineageTab”) that uses your existing EnhancedLineageGraphWidget. You can replace your old lineage tab (the textual one) with this code. Then, in your MainWindow (or wherever you build your tabs), update the reference so that the “Enhanced Lineage” tab instantiates LineageTab instead.

from PyQt5.QtWidgets import QWidget, QVBoxLayout

# Ensure that EnhancedLineageGraphWidget is imported from your Part 5 code
# from your_module import EnhancedLineageGraphWidget

class LineageTab(QWidget):
    """
    LineageTab – This tab displays the end-to‑end lineage using the EnhancedLineageGraphWidget.
    It leverages the force‑directed layout algorithm to present a MANTA‑like interactive view.
    """
    def __init__(self, connection, parent=None):
        super().__init__(parent)
        self.connection = connection
        layout = QVBoxLayout(self)
        
        # Instantiate your existing EnhancedLineageGraphWidget.
        self.graph_widget = EnhancedLineageGraphWidget(self.connection)
        layout.addWidget(self.graph_widget)
        
        self.setLayout(layout)

    def refresh_lineage(self):
        """
        Call this method to refresh or re-run the force-directed layout.
        For example, you can bind this to a refresh button.
        """
        self.graph_widget.setup_force_directed()

How to Integrate
	1.	Replace the Old Tab:
Remove the old code for your textual EnhancedLineageAnalysisTab and replace it with the above LineageTab class.
	2.	Update MainWindow:
In your MainWindow (or the central tab widget creation), replace the line where you create the lineage tab. For example, change:

self.lineage_tab = EnhancedLineageAnalysisTab(self.connection)
self.tabs.addTab(self.lineage_tab, QIcon(), "Enhanced Lineage")

to:

self.lineage_tab = LineageTab(self.connection)
self.tabs.addTab(self.lineage_tab, QIcon(), "Enhanced Lineage")


	3.	Optional Refresh Button:
If you need to allow users to refresh the graph, you can add a refresh button in the LineageTab that calls self.refresh_lineage().

This snippet is complete and can be used to replace your old lineage tab code so that your “Enhanced Lineage” tab now shows the interactive, graphical view using your EnhancedLineageGraphWidget.